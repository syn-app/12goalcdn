<div class="sticky-navbar">

    <div class="container" id="header-content">
    </div>
</div>
<div class="login-container">
    <div class="login-box">
        <div class="login-logo pb-3"><img
                src="https://cdn.jsdelivr.net/gh/syn-app/12goalcdn@v1.10/12play-freebies/images/logo.png"
                alt="12Play Online Casino Malaysia Logo"></div>
        <form id="fr_login" method="post">
            <div class="form-group login-form-group pb-2">
                <label class="col-sm-12 control-label">账户名</label>
                <div class="col-sm-12">
                    <input type="text" class="form-control" value="" id="txtUsername" name="txtUsername" maxlength="100"
                        required>
                    <div class="warning-msg" id="login_username_msg"></div>
                </div>
            </div>
            <div class="form-group login-form-group pb-2">
                <label class="col-sm-12 control-label">密码</label>
                <div class="col-sm-12">
                    <input type="password" class="form-control" value="" id="txtPassword" name="txtPassword" required>
                    <div class="warning-msg" id="login_password_msg"></div>
                </div>
            </div>
            <div class="col-12 row pb-2 d-flex justify-content-center">
                <input type="submit" name="btnLogin" id="btnLogin" value="登入" class="btn red-button">
            </div>
            <div class="col-12 row pb-3 d-flex justify-content-center">
                <a href="#" class="forget-password">忘记密码？</a>
            </div>
            <div class="col-12 row pb-3 d-flex justify-content-center don-have-acc">
                未拥有帐号？ 点击<a href="register.html" style="color:#6C0000;margin: 0px；">这里</a>注册
            </div>
        </form>
        <div class="login-close">&#10006;</div>
    </div>
</div>
<div class="sticky-secondary-navbar">
    <div class="container navbar-wrap" id="navBarMenu">
    </div>
    <style>
        .navbar-wrap .navbar-title .dota-title-wrap {
            width: 100px;
            height: 30px
        }

        .menu-flag {
            position: absolute;
            width: 40px;
            top: -8px;
        }

        .navbar-wrap #predictionBtn.dota-title {
            background-repeat: no-repeat;
            background-size: 100% 100%;
            background-position: top;
            display: none;
        }

        .navbar-wrap .navbar-title .dota-title-wrap img {
            width: 100%;
            height: 100%;
            object-fit: contain
        }

        .sticky-secondary-navbar .navbar-wrap .dota-title.active,
        .sticky-secondary-navbar .navbar-wrap .dota-title:hover {
            background-image: url('https://93hdy12py.cloudcdnetw.com/12pv2/https://cdn.jsdelivr.net/gh/syn-app/12goalcdn@v1.10/12play-freebies/images/minigames/anniversary2021/nav-hover-effect.png');
        }

        .menu-flag {
            position: absolute;
            width: 40px;
            top: -8px;
        }
    </style>
</div>
<style>
    .sticky-secondary-navbar .navbar-wrap .lottery-title.active,
    .sticky-secondary-navbar .navbar-wrap .lottery-title:hover {
        background-image: url("https://cdn.jsdelivr.net/gh/syn-app/12goalcdn@v1.10/12play-freebies/images/12lottery-mask.png");
    }

    .sticky-secondary-navbar .navbar-wrap .euro-title.active,
    .sticky-secondary-navbar .navbar-wrap .euro-title:hover {
        background-image: url("https://cdn.jsdelivr.net/gh/syn-app/12goalcdn@v1.10/12play-freebies/images/12euro/euro/euro-title-logo-bg.png");
    }

    .rewardIcon {
        height: 54px;
        width: 54px;
        background-size: 100%;
        background-repeat: no-repeat;
    }

    .rewardIcon:hover {
        background-image: url(https://cdn.jsdelivr.net/gh/syn-app/12goalcdn@v1.10/12play-freebies/images/12reward/12p-reward-header-icon-hover.png) !important;
    }
</style>

<script type="text/javascript"
    src="https://cdn.jsdelivr.net/gh/syn-app/12goalcdn@v1.10/12play-freebies/js/theme-mode.js"></script>
<script type="text/javascript">
    function getDateNow() {
        var today = new Date();
        var dd = today.getDate();
        var mm = today.getMonth() + 1; //January is 0!
        var yyyy = today.getFullYear();
        var hour = today.getHours();
        var min = today.getMinutes();
        var sec = today.getSeconds();
        if (dd < 10) {
            dd = '0' + dd
        }
        if (mm < 10) {
            mm = '0' + mm
        }
        if (hour < 10) {
            hour = '0' + hour
        }
        if (min < 10) {
            min = '0' + min
        }
        if (sec < 10) {
            sec = '0' + sec
        }
        return dd + '/' + mm + '/' + yyyy + ' ' + hour + ':' + min + ':' + sec;
    }

    function closeDropdown() {
        $(".dropdown-content").removeClass("show-dropdown");
    }

    function renderLightMode() {
        $(".vip-button > img").attr("src", "https://cdn.jsdelivr.net/gh/syn-app/12goalcdn@v1.10/12play-freebies/images/vip-button-light.png");

        $(".color-mode-switch > img").attr("src", "https://cdn.jsdelivr.net/gh/syn-app/12goalcdn@v1.10/12play-freebies/images/light-mode.png");
        $(".color-mode-switch-dark").removeClass("color-mode-switch-dark").addClass("color-mode-switch-light");
    }

    function renderDarkMode() {
        $(".vip-button > img").attr("src", "https://cdn.jsdelivr.net/gh/syn-app/12goalcdn@v1.10/12play-freebies/images/vip-button-dark.png");

        $(".color-mode-switch > img").attr("src", "https://cdn.jsdelivr.net/gh/syn-app/12goalcdn@v1.10/12play-freebies/images/dark-mode.png");
        $(".color-mode-switch-light").removeClass("color-mode-switch-light").addClass("color-mode-switch-dark");
    }

    var walletBalance = 90;
    var gameBalance = 0;
    var gameMaintenance = false;
    $(".game-img-wrap").click(function () {
        gameTransferPopup();
    });

    function gameTransferPopup() {
        if (gameMaintenance == true) {
            window.location.href = `${SITE_DOMAIN}/my/gameTransferPopup-maintenance.html`
        }
        else if (walletBalance == 0) {
            window.location.href = `${SITE_DOMAIN}/my/gameTransferPopup-nocredit.html`

        }
        else if (gameBalance == 0) {
            $("#gameTransferModal .gameModalText> span").text("MYR " + walletBalance.toFixed(2));
            window.location.href = `${SITE_DOMAIN}/my/gameTransferPopup-transfercredit.html`

        }
    }

    $(document).ready(function () {
        $(".rotate,#countryFlag").click(function () {
            $(".rotate").toggleClass("down");
            if ($(".rotate").hasClass("down")) {
                $("#countryOption").show();
            } else {
                $("#countryOption").hide();
            }
        });
        $("#gameTransferPopup").load("gameTransferPopup.html");

        const headerContent = `<div class="navbar-brand-logo" onclick="window.location.href='${SITE_DOMAIN}/my/index.html?lang=simplified'">
            <img src="https://cdn.jsdelivr.net/gh/syn-app/12goalcdn@v1.10/12play-freebies/images/logo.png" alt="12Play Online Casino Malaysia Logo" />
        </div>`;
        $("#header-content").append(headerContent);

        const navMenu = `<a id="homeBtn" class="navbar-title" href='${SITE_DOMAIN}/my/index.html?lang=simplified'>
            <div class="title-txt">主页</div>
        </a>
        <a id="esportsBtn" class="navbar-title dropdown-btn" href='${SITE_DOMAIN}/my/esports.html?lang=simplified'>
            <div class="title-txt">电子竞技</div>
        </a>
        <a id="sportsBtn" class="navbar-title dropdown-btn" href='${SITE_DOMAIN}/my/sports.html?lang=simplified'>
            <div class="title-txt">体育赛事</div>
        </a>
        <a id="liveCasinoBtn" class="navbar-title dropdown-btn" href='${SITE_DOMAIN}/my/livecasino.html?lang=simplified'>
            <div class="title-txt">真人娱乐城</div>
        </a>
        <a id="slotsBtn" class="navbar-title dropdown-btn" href='${SITE_DOMAIN}/my/slots.html?lang=simplified'>
            <div class="title-txt">老虎机</div>
        </a>
        <a id="arcadeBtn" class="navbar-title dropdown-btn" href='${SITE_DOMAIN}/my/arcade.html?lang=simplified'>
            <div class="title-txt">街机</div>
        </a>
        <a id="4dBtn" class="navbar-title" href='${SITE_DOMAIN}/my/4d.html?lang=simplified'>
            <div class="title-txt">4D博彩</div>
        </a>
        <div class="navbar-title" style="position: relative;">
            <img src="https://cdn.jsdelivr.net/gh/syn-app/12goalcdn@v1.10/12play-freebies/images/icon/icon-hot.png" alt="Hot Icon" class="menu-flag">
            <nav class="navigation">
                <ul>
                  <li><div class="title-txt d-flex">12EVENTS<span class="down-caret"></span> </div>
                    <ul class="dropdown" style="background-image: url(https://cdn.jsdelivr.net/gh/syn-app/12goalcdn@v1.10/12play-freebies/images/12ranking/dropdown.png);">
                      <li><a id="12goalBtn" onclick="window.location.href = window.location.href">12GOAL</a></li>
                      <li><a id="12lottertBtn" href='${SITE_DOMAIN}/my/fortune-spin.html?lang=simplified'>12LOTTERY</a></li>
                    </ul>
                  </li>
                </ul>
              </nav>
        </div>
        <a id="promoBtn" class="navbar-title" href='${SITE_DOMAIN}/my/promotion.html?lang=simplified'>
            <div class="title-txt">优惠</div>
        </a>
        <a id="vip-button" class="navbar-title" href='${SITE_DOMAIN}/my/vip.html?lang=simplified'>
            <div class="title-txt">贵宾会</div>
        </a>
        <!-- <div  class="navbar-title" onclick="window.location.href='/'">
            <div class="title-txt">12SLOT</div>
        </div> -->
        <div class="navbar-title">
            <a id="language">
                <div class="lang-btn">English</div>
            </a>
        </div>`
        $("#navBarMenu").append(navMenu);
        $("#language").click(function () {
            if (siteLang === 'en') {
                window.location.href = `../chs/12goal.html?userData=${encodeURIComponent(localStorage.getItem(USER_KEY) || '')}&timestamp=${localStorage.getItem(KEY_TS)}`
            } else {
                window.location.href = `../en/12goal.html?userData=${encodeURIComponent(localStorage.getItem(USER_KEY) || '')}&timestamp=${localStorage.getItem(KEY_TS)}`
            }
        });
        //prevent form resubmission 
        if (window.history.replaceState) {
            window.history.replaceState(null, null, window.location.href);
        }

        if (localStorage['12p_login'] == 'true') {
            $(".before-login").hide();
            $(".after-login").show();
        } else {
            $(".after-login").hide();

        }
        $(".login-btn").click(function () {
            $(".login-container").show();
        });

        $(".login-close").click(function () {
            $(".login-container").hide();
        });

        $(".login-container").click(function (e) {
            // if the target of the click isn't the container nor a descendant of the container
            if (!$(".login-box").is(e.target) && $(".login-box").has(e.target).length === 0)
                $(".login-container").hide();
        });

        $("#fr_login").submit(function () {
            localStorage['12p_login'] = 'true';
            localStorage['12p_username'] = $("#txtUsername").val();
            localStorage['12p_inbox'] = 3;
        });

        setInterval(function () {
            var now = getDateNow();
            $('#currentTimestamp').html(now + " (GMT+8)");
        }, 1000);

        $(".header-playername>span").text(localStorage['12p_username']);

        // switch night mode / light mode text on sidebar
        if (localStorage["12pMode"] == "light") {
            renderLightMode();
        } else {
            renderDarkMode();
        }

        $(".color-mode-switch > img").click(function () {
            if ($(this).hasClass("color-mode-switch-dark")) {
                // switch to light mode
                renderLightMode();

                var mode = "light";
                localStorage['12pMode'] = mode;
                document.documentElement.setAttribute("data-theme", localStorage['12pMode']);

            } else if ($(this).hasClass("color-mode-switch-light")) {
                // switch to dark mode
                renderDarkMode();

                var mode = "dark";
                localStorage['12pMode'] = mode;
                document.documentElement.setAttribute("data-theme", localStorage['12pMode']);
            }
        });
        // show esports dropdown content when hover
        $("#esportsBtn, #esportDropdownContent").hover(
            function () {
                $("#esportDropdownContent.dropdown-content").addClass("show-dropdown");
            },
            function () {
                closeDropdown();
            }
        );

        // show sports dropdown content when hover
        $("#sportsBtn, #sportsDropdownContent").hover(
            function () {
                $("#sportsDropdownContent.dropdown-content").addClass("show-dropdown");
            },
            function () {
                closeDropdown();
            }
        );

        // show live casino dropdown content when hover
        $("#liveCasinoBtn, #liveCasinoDropdownContent").hover(
            function () {
                $("#liveCasinoDropdownContent.dropdown-content").addClass("show-dropdown");
            },
            function () {
                closeDropdown();
            }
        );

        // show slots dropdown content when hover
        $("#slotsBtn, #slotsDropdownContent").hover(
            function () {
                $("#slotsDropdownContent.dropdown-content").addClass("show-dropdown");
            },
            function () {
                closeDropdown();
            }
        );

        // show arcade dropdown content when hover
        $("#arcadeBtn, #arcadeDropdownContent").hover(
            function () {
                $("#arcadeDropdownContent.dropdown-content").addClass("show-dropdown");
            },
            function () {
                closeDropdown();
            }
        );
    });
</script>